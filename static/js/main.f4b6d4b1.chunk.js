(this["webpackJsonpreact-triangles"]=this["webpackJsonpreact-triangles"]||[]).push([[0],{108:function(t,e,o){},256:function(t,e,o){"use strict";o.r(e);var n=o(0),r=o(99),c=o.n(r),a=(o(108),o(63)),i=o(21),l=o.n(i),s=o(100),u=o(14),h=(o(254),o(4)),d=window.innerWidth,f=window.innerHeight,p=function(t,e,o){return e+t*(o-e)},v=function(t,e,o){return t>o?o:t<e?e:t},g=function(t){var e=[],o=Object(n.useState)(!1),r=Object(a.a)(o,2),c=r[0],i=r[1],g=Object(n.useRef)({topcolor:l.a.hex.hsv(t.topcolor?t.topcolor:"#7fff69"),botcolor:l.a.hex.hsv(t.botcolor?t.botcolor:"#814796"),topcolorhex:t.topcolor?t.topcolor:"#7fff69",botcolorhex:t.botcolor?t.botcolor:"#814796",varH:t.hue?v(t.hue,0,1):.2,varS:t.sat?v(t.sat,0,1):0,varV:t.val?v(t.val,0,1):.15,equilateral:!t.equilateral||t.equilateral,triangleCountX:!t.countx||t.countx<0?10:t.countx,triangleCountY:!t.county||t.county<0?10:t.county,stepX:null,stepY:null}),b=Object(n.useState)(!1),x=Object(a.a)(b,2),w=x[0],j=x[1];Object(s.a)("keydown",(function(t){t.repeat||"Pause"!==t.code||j(!w)}));var m,O,y=function(t,e,o,n){var r=e/n;r<0&&(r=0);var c=p(r+Math.random()*g.current.varH,g.current.topcolor[0],g.current.botcolor[0]),a=p(r+Math.random()*g.current.varS,g.current.topcolor[1],g.current.botcolor[1]),i=r+Math.random()*g.current.varV;i>1&&(i=1);var s=p(i,g.current.topcolor[2],g.current.botcolor[2]);return"#"+l.a.hsv.hex(v(c,0,360),v(a,0,100),v(s,0,100))},S=Object(n.useRef)();Object(n.useEffect)((function(){k()}),[w,c]),Object(n.useEffect)((function(){var t;m=S.current,O=m.getContext("2d"),k(),window.addEventListener("resize",(function(){t&&clearTimeout(t),t=setTimeout((function(){k()}),100)}))}),[]);var k=function(){null!==localStorage.getItem("config")?g.current=JSON.parse(localStorage.getItem("config")):localStorage.setItem("config",JSON.stringify(g.current)),m=S.current,O=m.getContext("2d"),d=window.innerWidth,f=window.innerHeight,O.canvas.width=d,O.canvas.height=f,g.current.equilateral?(g.current.stepY=f/g.current.triangleCountY,g.current.stepX=2*g.current.stepY*Math.sqrt(3)/3):(g.current.stepX=d/g.current.triangleCountX,g.current.stepY=f/g.current.triangleCountY),e=[],function(){for(var t,o,n,r,c,a=0,i=-g.current.stepX;i<=d;i+=g.current.stepX){c=1;for(var l=-g.current.stepY;l<=f;l+=g.current.stepY)c%2===1&&(a=g.current.stepX/2),o=(t=a+i)+g.current.stepX,n=t+g.current.stepX/2,r=l+g.current.stepY,e.push({x0:t,y0:l,x1:o,y1:l,x2:n,y2:r,color:y(0,l,0,f)}),e.push({x0:n,y0:r,x1:n+g.current.stepX,y1:r,x2:o,y2:l,color:y(0,l,0,f)}),a=0,c++}}(),function(){var t;O.lineWidth=2;for(var o=0;o<e.length;o++)t=e[o],O.fillStyle=t.color,O.strokeStyle=t.color,O.beginPath(),O.moveTo(t.x0,t.y0),O.lineTo(t.x1,t.y1),O.lineTo(t.x2,t.y2),O.closePath(),O.stroke(),O.fill()}()};return Object(h.jsxs)("div",{style:{position:"absolute",zIndex:-1,width:"100%",height:"100%"},children:[Object(h.jsx)("div",{hidden:!w,children:Object(h.jsxs)(u.d,{data:g.current,onUpdate:function(t){t.topcolor=l.a.hex.hsv(t.topcolorhex),t.botcolor=l.a.hex.hsv(t.botcolorhex),g.current=t,localStorage.setItem("config",JSON.stringify(t)),i(!c)},children:[Object(h.jsxs)(u.b,{title:"Colors",closed:!1,children:[Object(h.jsx)(u.a,{path:"topcolorhex",label:"Top Color"}),Object(h.jsx)(u.a,{path:"botcolorhex",label:"Bottom Color"})]}),Object(h.jsxs)(u.b,{title:"Variations",closed:!1,children:[Object(h.jsx)(u.c,{path:"varH",label:"Hue Variation",min:0,max:1,step:.01}),Object(h.jsx)(u.c,{path:"varS",label:"Saturation Variation",min:0,max:1,step:.01}),Object(h.jsx)(u.c,{path:"varV",label:"Value Variation",min:0,max:1,step:.01})]}),Object(h.jsx)(u.c,{path:"triangleCountY",label:"Row Count",min:1,max:64})]})}),Object(h.jsx)("canvas",{ref:S,style:{position:"absolute",zIndex:-1,width:"100%",height:"100%"},width:d,height:f})]})},b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var o=t.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var w=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,257)).then((function(e){var o=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,a=e.getTTFB;o(t),n(t),r(t),c(t),a(t)}))};c.a.render(Object(h.jsx)(g,{botcolor:"#221A33",topcolor:"#8A3D99",hue:.2,sat:0,val:.15,countx:10,county:10,equilateral:!0}),document.getElementById("root")),w(),function(t){if("serviceWorker"in navigator){if(new URL("/react-triangles",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-triangles","/service-worker.js");b?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):x(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):x(e,t)}))}}()}},[[256,1,2]]]);
//# sourceMappingURL=main.f4b6d4b1.chunk.js.map